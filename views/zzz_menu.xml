<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Все действия (ir.actions.act_window) -->

    <!-- Дія для станцій SmartLogger -->
    <record id="action_smartlogger_station" model="ir.actions.act_window">
        <field name="name">Станції SmartLogger</field>
        <field name="res_model">smartlogger.station</field>
        <field name="view_mode">tree,form</field>
    </record>

    <!-- Дія для історичних даних KPI -->
    <record id="action_smartlogger_data" model="ir.actions.act_window">
        <field name="name">Історичні дані KPI</field>
        <field name="res_model">smartlogger.data</field>
        <field name="view_mode">tree</field>
        <field name="context">{'group_by': 'station_id'}</field>
    </record>

    <!-- Дія для дашборду -->
    <record id="action_smartlogger_dashboard" model="ir.actions.act_window">
        <field name="name">Дашборд SmartLogger</field>
        <field name="res_model">smartlogger.dashboard</field>
        <field name="view_mode">form</field>
        <field name="res_id">1</field>
        <field name="target">current</field>
        <field name="context">{'dashboard_mode': True}</field>
    </record>

    <!-- Дія для виклику майстра синхронізації -->
    <record id="action_sync_data_wizard" model="ir.actions.act_window">
        <field name="name">Синхронізувати дані</field>
        <field name="res_model">smartlogger.sync.data.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field> <!-- Відкривати як модальне вікно -->
    </record>

    <!-- Пункты меню с действиями (загружаются после определения всех действий) -->

    <!-- Моніторинг -->
    <menuitem id="smartlogger_dashboard_menu_item"
              name="Дашборд"
              parent="smartlogger_monitoring_menu"
              action="action_smartlogger_dashboard"
              sequence="10"/>

    <menuitem id="smartlogger_stations_menu_item"
              name="Станції"
              parent="smartlogger_monitoring_menu"
              action="action_smartlogger_station"
              sequence="20"/>

    <menuitem id="smartlogger_kpi_data_menu_item"
              name="Історичні дані KPI"
              parent="smartlogger_monitoring_menu"
              action="action_smartlogger_data"
              sequence="30"/>

    <!-- Операції -->
    <menuitem id="smartlogger_sync_wizard_menu_item"
              name="Синхронізувати дані зараз"
              parent="smartlogger_operations_menu"
              action="action_sync_data_wizard"
              sequence="10"/>

    <!-- Конфігурація -->
    <menuitem id="smartlogger_config_params_menu_item"
              name="Налаштування API"
              parent="smartlogger_configuration_menu"
              action="base.action_ir_config_parameter"
              sequence="10"/>
</odoo>